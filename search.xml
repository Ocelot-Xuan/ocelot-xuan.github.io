<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Wi-Fi无源物联网反向散射通信 学习记录</title>
    <url>/2025/03/27/Wi-Fi-BackScatter/</url>
    <content><![CDATA[<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_demo.png" alt="WFBC_demo"></p>
<span id="more"></span>

<h3 id="1-关于反向散射"><a href="#1-关于反向散射" class="headerlink" title="1. 关于反向散射"></a>1. 关于反向散射</h3><p>待补充…</p>
<h3 id="2-实现思路"><a href="#2-实现思路" class="headerlink" title="2. 实现思路"></a>2. 实现思路</h3><h4 id="2-1-数据传输方式"><a href="#2-1-数据传输方式" class="headerlink" title="2.1 数据传输方式"></a>2.1 数据传输方式</h4><p>  假设局域网内有一台主机A、一个反向散射标签，一台无线AP（或另一台主机B）。在反向散射系统中，如果主机A想获取标签的数据，需要标签将数据调制到局域网中的某个已有的信号上，并由主机接收。</p>
<p>  比较直观的思路是，使标签改变信号的<strong>幅度</strong>或<strong>相位</strong>，相当于在物理层上对信号进行调幅或调相。但因为标签反射信号的强度远低于原信号，不容易在接收端解析出标签传递的数据。此时我们可以利用802.11协议的 <strong>MAC层帧聚合</strong> 和 <strong>块ACK</strong> 机制，在数据链路层上进行操作<sup>[1]</sup>。</p>
<h4 id="2-2-利用MAC层聚合帧进行二元调制"><a href="#2-2-利用MAC层聚合帧进行二元调制" class="headerlink" title="2.2 利用MAC层聚合帧进行二元调制"></a>2.2 利用MAC层聚合帧进行二元调制</h4><p>  Wi-Fi 802.11n协议引入了<strong>帧聚合</strong>机制，将多个MAC层PDU帧聚合成一个大型帧（A-MPDU），一次性交付物理层进行传输。使用该方法可以减少封装开销和信道竞争，增大网络吞吐量。</p>
<p>  802.11协议规定，对于任何单播数据帧，都要立即发送ACK帧进行回应。而对聚合之后的帧，接收方只需要发送一个 <strong>块ACK</strong> 帧，即可分别对多个帧进行回应。</p>
<p>  当主机需要获取一个反向散射标签的数据时，主机首先主动向无线AP发送A-MPDU帧。在聚合帧传输过程中，标签会<strong>选择性地干扰</strong>其中的一些帧。这样，在无线AP回传给主机的块ACK中，就可以看出哪些帧被干扰了。如果把“干扰”和“不干扰”这两种状态当成“0”和“1”，就可以实现简单的二元调制。</p>
<h4 id="2-3-反向散射标签设计"><a href="#2-3-反向散射标签设计" class="headerlink" title="2.3 反向散射标签设计"></a>2.3 反向散射标签设计</h4><p>  待补充…</p>
<h3 id="3-设备和软硬件环境准备"><a href="#3-设备和软硬件环境准备" class="headerlink" title="3. 设备和软硬件环境准备"></a>3. 设备和软硬件环境准备</h3><ul>
<li><p>安装 Linux<br><a href="https://zhuanlan.zhihu.com/p/652641360">双硬盘安装双系统Win11+Ubuntu22.4</a></p>
<p>【注】后续将使用CSI分析工具PicoScenes，截至2025年2月其支持的环境为：<br><strong>系统：</strong> Ubuntu 22.04 LTS 或其变体，最高内核版本6.0.5-15，同时必须安装在物理机上<br><strong>无线网卡：</strong> AX200（或 AX201）、AX210（或 AX211）、QCA9300 和 IWL5300</p>
</li>
<li><p>切换 Linux 内核版本<br><a href="https://blog.csdn.net/u010608421/article/details/115658479">ubuntu 内核降级，切换linux内核版本</a></p>
</li>
<li><p>启用 Pktgen （生成Wi-Fi数据包）<br><a href="https://blog.csdn.net/qq_41596356/article/details/134004341">Linux内核pktgen的使用</a></p>
</li>
<li><p>安装 PicoScenes （监测Wi-Fi信号的CSI信息<sup>[3]</sup>）<br><a href="https://ps.zpj.io/index.html">PicoScenes文档</a></p>
</li>
<li><p>安装 PicoScenes MATLAB Toolbox （解析PicoScenes捕获的CSI信息）<br><a href="https://ps.zpj.io/matlab.html">PicoScenes MATLAB Toolbox Core</a></p>
<p>【注】在Windows下，该Toolbox需要调用TDM-GCC编译器。在安装TDM-GCC编译器时，目录名称不能含有空格，否则MATLAB无法检测到编译器。</p>
</li>
</ul>
<h3 id="4-Wi-Fi-数据包收发及CSI监测"><a href="#4-Wi-Fi-数据包收发及CSI监测" class="headerlink" title="4. Wi-Fi 数据包收发及CSI监测"></a>4. Wi-Fi 数据包收发及CSI监测</h3><p>  使用AX200网卡测试Wi-Fi数据包收发，并收集其信道状态信息，分析信号传输和子载波状态。</p>
<ul>
<li><strong>Pktgen 生成Wi-Fi数据包</strong><br>在Ubuntu下生成数据包，向局域网内主机发送UDP包。可自定义数据包长度、源&#x2F;目的地址等参数。<br>【注】由于数据包发送层次原因，发送方无法在Wireshark中捕获到Pktgen生成的数据包，接收端可以正常捕获。</li>
</ul>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_Pktgen_1.png" alt="WFBC_Pktgen_1"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_Pktgen_2.png" alt="WFBC_Pktgen_2"></p>
<ul>
<li><strong>PicoScenes 收集Wi-Fi信道状态信息（CSI）</strong></li>
</ul>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_PicoScenes.png" alt="WFBC_PicoScenes"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_PicoScenes_MATLAB.png" alt="WFBC_PicoScenes_MATLAB"></p>
<p>  使用 PicoScenes MATLAB Toolbox 解析不同子载波的幅度和相位  </p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/WFBC_CSI_result_2.png" alt="WFBC_CSI_result2"></p>
<h3 id="5-反向散射数据传输"><a href="#5-反向散射数据传输" class="headerlink" title="5. 反向散射数据传输"></a>5. 反向散射数据传输</h3><p>待补充…</p>
<h3 id="6-参考资料"><a href="#6-参考资料" class="headerlink" title="6. 参考资料"></a>6. 参考资料</h3><p>[1] Abedi, A., Dehbashi, F., Mazaheri, M.H., Salehi-Abari, O., &amp; Brecht, T. (2020). WiTAG: Seamless WiFi Backscatter Communication. Proceedings of the Annual conference of the ACM Special Interest Group on Data Communication on the applications, technologies, architectures, and protocols for computer communication.</p>
<p>[2] 付嵩博.反向散射共生通信系统标签波形与检测技术研究[D],2024</p>
<p>[3] Zhiping Jiang, Tom H. Luan, Xincheng Ren, Dongtao Lv, Han Hao, Jing Wang, Kun Zhao, Wei Xi, Yueshen Xu, Rui Li, Eliminating the Barriers: Demystifying Wi-Fi Baseband Design and Introducing the PicoScenes Wi-Fi Sensing Platform, in IEEE Internet of Things Journal (IEEE IOT-J), doi: 10.1109&#x2F;JIOT.2021.3104666.</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>物联网</tag>
        <tag>无线通信</tag>
      </tags>
  </entry>
  <entry>
    <title>快速傅里叶变换（FFT）通俗入门</title>
    <url>/2025/03/05/FFT-for-beginners/</url>
    <content><![CDATA[<p><strong>【写在前面】</strong> 这篇文章写给尚未系统性学习信号理论的读者，主要使用通俗的语言描述FFT在信号处理中的应用。本文原面向参加大学生电子设计竞赛的大学一年级学生，使其快速理解信号处理算法，并能在单片机、FPGA等设备上使用FFT。如果你希望了解FFT算法原理和优化等内容，不妨阅读更专业的文章或书籍。</p>
<span id="more"></span>
<h3 id="1-信号的频域分析"><a href="#1-信号的频域分析" class="headerlink" title="1. 信号的频域分析"></a>1. 信号的频域分析</h3><h4 id="1-1-什么是频域、频谱"><a href="#1-1-什么是频域、频谱" class="headerlink" title="1.1 什么是频域、频谱"></a>1.1 什么是频域、频谱</h4><p>这是一个我们通常说的正弦波：<br><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sine.svg" alt="FFT_正弦"></p>
<p>如果给这个图像加上坐标轴，就是一个横轴为时间 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g></g></svg></mjx-container>，纵轴为电压 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>（或者说振幅 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.697ex" height="1.62ex" role="img" focusable="false" viewBox="0 -716 750 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></svg></mjx-container>）的图像:<br><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sine_with_coordinate.svg" alt="FFT_正弦_带坐标"></p>
<p>我们叫它正弦信号的 <strong>时域</strong> 表示，从图像中可以看出不同时间点的信号振幅。</p>
<p>在现实生活中，我们遇到的信号通常不这么简单，可能是很多不同频率和幅度的正弦波的叠加，也可能是杂乱无章的波形。这时，如果我们想要了解一个复杂信号是由哪些简单信号组成的，就可以对信号做“傅里叶变换”（FT）。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sine_spectrum.svg" alt="FFT_正弦_频谱"></p>
<p>FT结果的横轴为角频率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.407ex" height="1.027ex" role="img" focusable="false" viewBox="0 -443 622 454"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g></g></g></svg></mjx-container>，纵轴 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.027ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2664 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mo" transform="translate(852,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1241,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g><g data-mml-node="mi" transform="translate(1653,0)"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mo" transform="translate(2275,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> 是一个与频率有关的复数。图像中不为0的地方，就表示信号中含有对应频率的信号分量，其纵坐标代表分量成分的多少。我们把正弦波视为单频信号，它的频谱只含有一个“峰”。这就是信号的 <strong>频域</strong> 表示，我们把这样的图像叫做 <strong>频谱</strong> ，更精确地叫它幅度谱。</p>
<h4 id="1-2-FFT是做什么的"><a href="#1-2-FFT是做什么的" class="headerlink" title="1.2 FFT是做什么的"></a>1.2 FFT是做什么的</h4><p>通俗地来说，傅里叶变换（FT）是把信号从 <strong>时域</strong> 变换到 <strong>频域</strong> 。它以正弦波为基准，把信号分解成一系列不同频率的正弦信号 <strong>叠加</strong> ，好让我们分析一个信号的频率组成。我们今天讨论的快速傅里叶变换（FFT）就是从朴素的FT中逐步发展而来的。</p>
<p>通过对频谱进行分析，我们可以得到信号的类型、频率分量，以及不同频率所占的幅度。从变换结果中还可以计算出 <strong>相位谱</strong> ，可以提取出不同频率分量的相位。如果变换的对象是多个信号的混合，还可以从混合信号中分离不同信号。</p>
<p>FT在应用于工程领域的过程中，还催生出了很多优化方法和新的思路。比如，我们分解信号所使用的基准并不一定是正弦波。“小波变换”就使用一系列被称为“小波”的基准，来表示信号的特征。这些新的发展解决了传统FT的一些局限，使得我们能够从更多的角度分析不同情景下的信号。</p>
<h4 id="1-3-常见信号的频谱"><a href="#1-3-常见信号的频谱" class="headerlink" title="1.3 常见信号的频谱"></a>1.3 常见信号的频谱</h4><p>正弦信号是单频信号，它频谱的单峰 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="1.244ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 550 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 就是正弦波的频率。方波和三角波都是复合信号。以方波为例，它的频谱除了 <strong>基频</strong> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="1.244ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 550 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 之外，还有 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.376ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 1050 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container>、 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.376ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 1050 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container>……等 <strong>谐波</strong> 分量。方波只有奇次谐波，三角波有各次谐波。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_frequency_spectrum.png" width="60%">

<p>你可以理解为，方波是由一个频率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="1.244ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 550 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 的正弦波叠加一个幅度稍小的频率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.376ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 1050 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 的正弦波，再叠加上更小的频率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.376ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 1050 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 的正弦波……这样叠加而成的。这种叠加的数学依据可以参考傅里叶级数。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_square.png" width="60%">

<h3 id="2-FFT算法"><a href="#2-FFT算法" class="headerlink" title="2. FFT算法"></a>2. FFT算法</h3><p>这一部分介绍FFT算法在信号处理中的使用。考虑到本文面向的读者，下文中很多定理、结论均为不加证明地给出。对于这些理论，互联网上有非常多优秀的讲解，感兴趣时不妨阅读几篇。</p>
<h4 id="2-1-采样与采样定理"><a href="#2-1-采样与采样定理" class="headerlink" title="2.1 采样与采样定理"></a>2.1 采样与采样定理</h4><p>生活中的信号大多是模拟信号，是电压连续变化形成的。但计算机系统只能处理离散的数值，如果我们每隔一小段时间记录一次电压值，就能把连续的模拟信号变成一系列分散的数值点，这就是 <strong>采样</strong>。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sampling_1.svg" alt="FFT_采样_1"> </p>
<p>采样的频率简称采样率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.047ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 904.6 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container>，指单位时间内，信号被采样的次数。如果信号频率1kHz，采样率10kHz，那么一个周期内信号能被采样10次，即10个点。</p>
<p>对于信号频率与采样率的关系，<strong>奈奎斯特-香农采样定理</strong> 给出了以下要求：</p>
<p><em>“采样频率要大于信号最高频率的 2倍，才能无失真的保留信号的完整信息”</em></p>
<p>如果刚好符合采样定理的要求，那么一个周期里只有2个点，而且通常不在峰值处，连起线来仿佛成了三角波。这样的采样结果也足以提取出信号的信息，但必须从变换后的频域来分析。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sampling_2.svg" alt="FFT_采样_2"></p>
<h4 id="2-2-FFT的结果"><a href="#2-2-FFT的结果" class="headerlink" title="2.2 FFT的结果"></a>2.2 FFT的结果</h4><p>如果我们对一个信号做 “<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 点的FFT”，会得到一个长度为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 的数据序列，对应着 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="6.195ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 2738.2 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="msub" transform="translate(1833.6,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 频率上的信号分量。</p>
<p>在现实生活中，我们接触的信号都是实信号（虚部为0的信号）。对于一个实信号，FFT得到的结果都是复数，需要对其取模，才能得出幅度谱。取模后的结果需要进行幅度修正，非直流分量需乘以 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="2.416ex" height="2.737ex" role="img" focusable="false" viewBox="0 -864.9 1067.9 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(357.2,394) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="827.9" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> ，直流分量（<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="5.393ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 2383.6 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(827.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1883.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container> 处）乘以 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="2.416ex" height="2.737ex" role="img" focusable="false" viewBox="0 -864.9 1067.9 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(357.2,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="827.9" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> 。</p>
<p>需要注意的是，计算出的幅度谱仍不能准确反映信号的频率成分，会有频谱泄露、栅栏效应等偏差。我们将会在 2.3 和 2.4 节讨论这些偏差以及它们的解决方法。  </p>
<p>下图是一个100Hz的正弦信号幅度谱，FFT点数 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 为512，采样率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.047ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 904.6 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 为1kHz。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sine_spectrum.png" width="50%">

<p>可见它是一个横轴长度为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 个点，以 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.271ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1888 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(888,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mn" transform="translate(1388,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></svg></mjx-container> 为轴对称的图像，从左到右对应 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="6.195ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 2738.2 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="msub" transform="translate(1833.6,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 频率。然而，图中只有 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="6.591ex" height="3.006ex" role="img" focusable="false" viewBox="0 -983.5 2913.2 1328.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="mfrac" transform="translate(1833.6,0)"><g data-mml-node="msub" transform="translate(220,485) scale(0.707)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mn" transform="translate(363.1,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="839.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> 的一段有实际意义，另一半是完全对称的图像。这也对应了奈奎斯特采样定理的要求，当信号频率大于 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="2.443ex" height="3.006ex" role="img" focusable="false" viewBox="0 -983.5 1079.7 1328.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(220,485) scale(0.707)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mn" transform="translate(363.1,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="839.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> 时，频谱就会发生混叠。高频信号会同时出现在图像的左右两侧，无法分辨其真实所处的位置。</p>
<p>FFT分辨率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="8.589ex" height="3.006ex" role="img" focusable="false" viewBox="0 -983.5 3796.2 1328.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="mi" transform="translate(833,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(1660.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2716.6,0)"><g data-mml-node="msub" transform="translate(220,485) scale(0.707)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mi" transform="translate(225.9,-345) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="839.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> 描述了频谱横轴上的 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 个点与频率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="6.195ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 2738.2 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="msub" transform="translate(1833.6,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 的对应关系，可以理解为横轴每两个点间隔的频率。要用横坐标还原出频率，只需要乘上分辨率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="3.129ex" height="2.084ex" role="img" focusable="false" viewBox="0 -716 1383 921"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="mi" transform="translate(833,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container>。  </p>
<p>我们可以用公式描述幅度谱和相位谱的计算方法：</p>
<p>对FFT结果中的每一个值，用 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.528ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1559.4 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></g></g></svg></mjx-container> 表示实部，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="4.018ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1775.8 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg></mjx-container> 表示虚部。设 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container> 代表 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="6.157ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 2721.6 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="mi" transform="translate(1833.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 中的某个点（也称频率的离散索引），则模值 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.622ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2485 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mo" transform="translate(1130,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(1408,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mo" transform="translate(1929,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(2207,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container> 可由下式计算：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -1.184ex;" xmlns="http://www.w3.org/2000/svg" width="21.258ex" height="4.208ex" role="img" focusable="false" viewBox="0 -1336.7 9396.2 1860"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mo" transform="translate(1130,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(1408,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mo" transform="translate(1929,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(2207,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(2762.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msqrt" transform="translate(3818.6,0)"><g transform="translate(1020,0)"><g data-mml-node="msubsup"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mn" transform="translate(936.2,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-247) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1781.6,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msubsup" transform="translate(2781.9,0)"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mn" transform="translate(936.2,353.6) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-293.8) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g><g data-mml-node="mo" transform="translate(0,126.7)"><path data-c="221A" d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z"></path></g><rect width="4557.7" height="60" x="1020" y="1216.7"></rect></g></g></g></svg></mjx-container><br>类似的，求相位谱需要求复数的相位角，即<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -1.909ex;" xmlns="http://www.w3.org/2000/svg" width="22.356ex" height="4.984ex" role="img" focusable="false" viewBox="0 -1359 9881.3 2202.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2220" d="M71 0L68 2Q65 3 63 5T58 11T55 20Q55 22 57 28Q67 43 346 361Q397 420 474 508Q595 648 616 671T647 694T661 688T666 674Q666 668 663 663Q662 662 627 622T524 503T390 350L120 41L386 40H653Q666 30 666 20Q666 8 651 0H71Z"></path></g></g><g data-mml-node="mi" transform="translate(722,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mo" transform="translate(1574,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mi" transform="translate(1852,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mo" transform="translate(2373,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(2928.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(3984.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(4513.6,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(4964.6,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g><g data-mml-node="mi" transform="translate(5397.6,0)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(5758.6,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(6287.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(6887.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mfrac" transform="translate(7276.6,0)"><g data-mml-node="msub" transform="translate(220,676)"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="msub" transform="translate(328.2,-686)"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="TeXAtom" transform="translate(861,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(451,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g><rect width="1975.8" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(9492.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></p>
<h4 id="2-3-频谱泄露和窗函数"><a href="#2-3-频谱泄露和窗函数" class="headerlink" title="2.3 频谱泄露和窗函数"></a>2.3 频谱泄露和窗函数</h4><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_sine_spectrum.png" width="50%">

<p>理想情况下，正弦信号的频谱应该只有两个单峰。而我们如果观察刚才这幅频谱图，会看到峰值的两侧像小山一样逐渐下降，同时整个频谱上也散布着很小的一个幅值。这种现象叫 <strong>频谱泄露</strong>，可以理解为峰值处的能量有少部分泄露到了其他频段上。</p>
<p>频谱泄露的原因是，FFT 由离散傅里叶变换 DFT 发展而来，但 DFT 要求信号是周期的，即最后一个采样点必须和第一个点在时域上接续。这种条件只有在采样率刚好是信号频率的整数倍时才能满足，这在现实中是难以达到的。</p>
<p>下面两幅图分别展示了信号周期接续和不接续的情况。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_continuous.png" alt="FFT_是否接续"></p>
<p>解决频谱泄露的方法是加 <strong>窗函数</strong>。我们在对信号采 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 个点时，其实是把连续的信号截出一部分做 FFT，这个“截”实际上就是乘以窗函数。直接采 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container> 个点，其实是乘以“矩形窗”，即采样范围内为1，其余为0的窗。习惯上我们也称这种情况为不加窗。</p>
<p>为了解决频谱泄露，要使最后一个采样点和第一个点在时域上接续。于是很多经典的窗函数诞生了：  </p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_window.png" alt="FFT_窗函数"></p>
<p>它们的特点是两边的窗系数逐渐减小，以削弱信号两端的幅度，达到前后接续的效果。其中平顶窗的特点是让频谱峰值处变成有两个或多个点的平顶状。加窗后，FFT结果的幅值会出现不同程度的衰减，需要乘上不同窗函数的恢复系数来矫正。</p>
<p>不同的窗适合计算不同的参数。求信号 <strong>频率</strong> 时，不加窗（矩形窗）比较准确。求 <strong>幅值</strong> 时，平顶窗比较准确。求 <strong>THD</strong>（总谐波失真）时，凯泽窗比较准确。如果需要求同一个信号的不同参数，可以加不同的窗函数多次进行FFT，以求出最准确的结果。</p>
<h4 id="2-4-栅栏效应"><a href="#2-4-栅栏效应" class="headerlink" title="2.4 栅栏效应"></a>2.4 栅栏效应</h4><p>如果对100Hz正弦信号以980Hz采样率采样，并做64点的 FFT，就会得到下面的结果：</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_fence.png" width="50%">

<p>图中峰值处几乎有两个幅值相同的点。这种现象的原因是频谱分辨率 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="3.129ex" height="2.084ex" role="img" focusable="false" viewBox="0 -716 1383 921"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="mi" transform="translate(833,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 过大，也就是频谱横轴每两个点对应的频率间隔太大，信号频率恰好处于两个点之间。这就像透过一个栅栏看东西，一部分被挡板挡住，所以叫 <strong>栅栏效应</strong>。</p>
<p>缓解栅栏效应就要降低 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="3.129ex" height="2.084ex" role="img" focusable="false" viewBox="0 -716 1383 921"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="mi" transform="translate(833,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container> 。因为 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="8.589ex" height="3.006ex" role="img" focusable="false" viewBox="0 -983.5 3796.2 1328.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="mi" transform="translate(833,0)"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mo" transform="translate(1660.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2716.6,0)"><g data-mml-node="msub" transform="translate(220,485) scale(0.707)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g><g data-mml-node="mi" transform="translate(225.9,-345) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="839.7" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> ，可以降低采样率或者增加FFT点数。但因为计算资源和采样时间的限制，FFT点数不能太大，所以一般将采样率控制在信号最高频率的2.5倍左右即可。</p>
<h4 id="2-5-混叠"><a href="#2-5-混叠" class="headerlink" title="2.5 混叠"></a>2.5 混叠</h4><p><strong>频谱混叠</strong> 就是当采样率不满足奈奎斯特采样定理时，高频信号的频谱出现在低频区段的现象。下图可以让我们感受采样率不足时，采样结果在时域的变化。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_aliasing.png" width="75%">

<p>图中蓝线表示原信号，黑点和黑线表示采样结果。左侧图像代表满足采样定理时的结果,右侧则是采样率不足时的结果。可见高频信号被采样成了一个频率更低，幅值相同的信号。这就是高频信号混叠至低频的时域表现，我们称它为 <strong>欠采样</strong>。当信号欠采样且采样率为信号频率的整倍数时，采样结果有时甚至会变成DC直流信号。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/FFT_undersampling.png" alt="FFT_欠采样"></p>
<p>再从频域上来观察，从图中可见频谱混叠并不局限于 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="6.195ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 2738.2 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z"></path></g><g data-mml-node="msub" transform="translate(1833.6,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 的区段，每个区间内的信号都会像“照镜子”一样，反映在其他区间的相应位置上。实质上，采样就是对信号的频谱以 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="2.047ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 904.6 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g><g data-mml-node="mi" transform="translate(523,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container> 为周期进行搬移的过程，混叠就是信号频谱在搬移过程中产生了重叠。</p>
<p>在通信领域，信号通常会被调制到频率更高的载波上传递，这时我们很难达到奈奎斯特采样定理所要求的采样频率。不过，这类信号虽然总体频率很高，但在频谱中所占的宽度（信号带宽）通常不大。如果我们能利用采样带来的频谱搬移，同时保证这样的搬移不会导致频谱重叠，就能转而分析原信号在低频段的镜像频谱。我们把这种方法叫做 <strong>“带通采样”</strong> ，把之前提到的方法叫做 <strong>“低通采样”</strong>。</p>
<p>如果你想了解关于采样和混叠更详细的介绍，还可以阅读Analog Devices公司编写的MT-002指南：《奈奎斯特准则对数据采样系统设计有何意义》。</p>
<h3 id="3-FFT在STM32上的实现"><a href="#3-FFT在STM32上的实现" class="headerlink" title="3. FFT在STM32上的实现"></a>3. FFT在STM32上的实现</h3><p>ST官方的 CMSIS DSP 库中提供了多种FFT实现，常用的有处理实信号的 <code>arm_rfft_fast_f32</code> 和处理复信号的 <code>arm_cfft_f32</code>。库中也提供了 <code>arm_cmplx_mag_f32</code> 函数来对FFT输出的复数数据取模。另外，ST也提供使用汇编语言编写的版本 <code>cr4_fft_X_stm32</code>（X为FFT点数）。</p>
<p>我们生活中处理的信号都是实信号，使用面向实信号的函数能加快运算速度。同时，这些函数有不同的数据格式，具体的使用方法可以参考 CMSIS DSP 库官方文档和互联网上的资料。</p>
<h4 id="关于FFT的介绍就到这里了，感谢你读完这篇文章！如果文中出现了任何错误，或者你想深入讨论某个知识点，欢迎在评论区留言"><a href="#关于FFT的介绍就到这里了，感谢你读完这篇文章！如果文中出现了任何错误，或者你想深入讨论某个知识点，欢迎在评论区留言" class="headerlink" title="关于FFT的介绍就到这里了，感谢你读完这篇文章！如果文中出现了任何错误，或者你想深入讨论某个知识点，欢迎在评论区留言~"></a>关于FFT的介绍就到这里了，感谢你读完这篇文章！如果文中出现了任何错误，或者你想深入讨论某个知识点，欢迎在评论区留言~</h4><h3 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h3><p><a href="https://zhuanlan.zhihu.com/p/611517669">实战数字信号处理之三 - 从FFT得到幅值和相位信息</a><br><a href="https://blog.csdn.net/weixin_45692672/article/details/113797031">FFT与窗函数：信号分析中的关键技术</a><br><a href="https://zhuanlan.zhihu.com/p/585401909">带通采样定理及其公式推导</a><br><a href="https://www.analog.com/media/cn/training-seminars/tutorials/mt-002_cn.pdf">Analog Devices - 奈奎斯特准则对数据采样系统设计有何意义</a><br><a href="https://arm-software.github.io/CMSIS_6/latest/DSP/index.html">CMSIS DSP Software Library</a>  </p>
]]></content>
      <categories>
        <category>知识</category>
      </categories>
      <tags>
        <tag>电子设计</tag>
        <tag>信号处理</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT 博客重建日志</title>
    <url>/2025/02/27/Blog%20building/</url>
    <content><![CDATA[<h3 id="博客恢复更新啦！"><a href="#博客恢复更新啦！" class="headerlink" title="博客恢复更新啦！"></a>博客恢复更新啦！</h3><p>因 Github 用户名更改为了 Ocelot-Xuan ，Github Pages 域名同步更新为<code>ocelot-xuan.github.io</code>，原有个人域名<code>ocelot.top</code>不变，二者均可访问博客。<br>同时，重建了博客环境，更新 Hexo 内核、NexT 主题版本，将评论系统更换为 Waline 。</p>
<span id="more"></span>
<h3 id="重建日志"><a href="#重建日志" class="headerlink" title="重建日志"></a>重建日志</h3><ul>
<li><p><strong>Hexo 环境搭建、添加搜索、字数统计功能</strong><br><a href="https://zhuanlan.zhihu.com/p/618864711">Hexo+Next主题搭建个人博客+优化全过程</a></p>
</li>
<li><p><strong>更换 NexT 主题、外观优化</strong><br><a href="https://theme-next.js.org/docs/getting-started/">NexT官方文档</a></p>
</li>
<li><p><strong>添加置顶功能</strong><br><a href="https://zhuanlan.zhihu.com/p/33617563">Hexo博客优化之博文置顶</a></p>
</li>
<li><p><strong>添加 Waline 评论系统</strong><br>Waline 是一款轻量评论系统，评论数据默认存储在 LeanCloud，使用 Vercel 作为服务端。<br>它相比 Valine 增加了后端，客户端与 LeanCloud 之间的交互会经由服务端处理，安全性更佳。</p>
<p><a href="https://waline.js.org/guide/get-started/">Waline官方文档-快速上手</a></p>
<p>NexT 主题对 Waline 没有官方支持，需要安装插件实现。</p>
<p><a href="https://blog.csdn.net/jiunian_2761/article/details/122621667">Hexo博客进阶：为 Next 主题添加 Waline 评论系统</a><br><a href="https://www.npmjs.com/package/@waline/hexo-next?activeTab=readme">npm - Next主题Waline插件</a></p>
<p>另外需要注意，Vercel 提供的服务端域名<code>vercel.app</code>在国内无法直接访问，需要将一个自有域名（子域名亦可）CNAME到<code>cname.vercel-dns.com</code>，之后使用自有域名进行配置和数据传递。详见 Waline 官方手册“绑定域名”一章。</p>
</li>
<li><p><strong>添加友链</strong><br>  <a href="https://finisky.github.io/simplestblogroll/">最简单的Hexo友情链接页面定制</a></p>
</li>
<li><p><strong>设定 Github Pages 自定义域名 及 域名DNS解析</strong><br><a href="https://www.bandao.ltd/tutorial/github_domain.html">GitHub Pages 自定义域名配置指南</a></p>
</li>
<li><p><strong>安装数学公式插件</strong><br><a href="https://github.com/next-theme/hexo-filter-mathjax">Hexo-filter-mathjax</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>电子科大信通新生挑战杯参赛后记</title>
    <url>/2022/10/22/Tiaozhanbei/</url>
    <content><![CDATA[<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(1).jpg" alt="Tiaozhanbei (1)" style="zoom: 20%;" />

<span id="more"></span>

<br/>

<p>为期近一个月的挑战杯终于结束了。从国庆到10月底，赛程和竞争都比想象中的更紧张、激烈，因此最后的成果也超出了赛前的预期。这次参赛过程可谓跌宕起伏，多灾多难，但也为之后的学习提供了宝贵的经验。</p>
<p>这里先贴出比赛题目。</p>
<br/>

<h4 id="D题-智能区域雷达"><a href="#D题-智能区域雷达" class="headerlink" title="D题-智能区域雷达"></a>D题-智能区域雷达</h4><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Requirement.jpg" alt="Requirement" style="zoom: 67%;" />

<br/>

<h4 id="成品效果"><a href="#成品效果" class="headerlink" title="成品效果"></a>成品效果</h4><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(2).jpg" alt="Tiaozhanbei (2)" style="zoom:20%;" />

<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(3).jpg" alt="Tiaozhanbei (3)" style="zoom:20%;" />

<br/>

<h4 id="电源模块"><a href="#电源模块" class="headerlink" title="电源模块"></a>电源模块</h4><p>对于供电的设计，科协提供了使用7805芯片，学生电源或电池转5V的方案。我们的方案经历了洞洞板 –&gt; PCB，学生电源 –&gt; 电池，最后确定为PCB+7.4V 18650锂电池 转5V的方案。在制作PCB的过程中，学长建议我们做小、加粗线路。同时后期我们发现也要注重7805的散热问题，需在附近留足空间，可选择安装散热片。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(4).jpg" alt="Tiaozhanbei (4)" style="zoom:20%;" />

<p>在安装散热片的过程中，发生了第一次差点炸掉。金属散热片接触到PCB上二极管引脚，产生短路，导致7805温度极高。</p>
<br/>

<h4 id="测距模块"><a href="#测距模块" class="headerlink" title="测距模块"></a>测距模块</h4><p>测距模块由科协提供，型号US-016，5V。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(5).jpg" alt="Tiaozhanbei (5)" style="zoom:20%;" />

<p>这个模块通过ADC模拟电压返回测量值，所以波动比较大，但做到±1cm左右的精度是没有问题的。并且由于波反射的特性，被测物体最好基本垂直于测距模块，否则容易出现测不到。</p>
<p>测距模块的视角比较宽，在即将转到物体边缘时也能测到数据。这次采取了取平均值的方式，但不够准确和稳定。学长建议我们采用取最小值，如需要更高精度，可以单独写算法求精确的角度。</p>
<p>科协提供的另一种测距模块是HC-SR04，这个模块是通过IO返回波的反射状态，监测回波时间来计算距离，这样准确度会更高。后期如用到可以再研究一下该模块的使用。</p>
<p>测距模块有专用的支架支撑，开头几天支架没有到货，我们先是用快递盒制作了一个支架。后来改造了已有的HC-SR04的支架，用锉刀磨去不合适的部分。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(6).jpg" alt="Tiaozhanbei (6)" style="zoom:20%;" />

<p>在比赛的最后一天，测距模块突然不工作了。后来检查发现是电源板接线错误，把7.4V输入接到了5V输出的针脚，导致7805被短路，直接给系统加了7.4V电压。排查过程中单片机出现过冒烟，但恢复5V后系统功能正常，测距模块和舵机都没有因为超压而烧掉。</p>
<p>这次事故比较重大，有烧毁关键元器件的风险。之后考虑给电源模块输入针脚添加防呆设计。</p>
<br/>

<h4 id="舵机"><a href="#舵机" class="headerlink" title="舵机"></a>舵机</h4><p>舵机也是科协提供的，SG90，5V供电，直接从电源模块取电。很不幸的是，还有3天时舵机烧了，于是火速从淘宝买了本地发货的舵机。烧舵机的原因仍不清楚，但不排除和测距模块故障原因相同。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(7).jpg" alt="Tiaozhanbei (7)" style="zoom:20%;" />

<br/>

<h4 id="屏幕"><a href="#屏幕" class="headerlink" title="屏幕"></a>屏幕</h4><p>屏幕的方案首先考虑的是1.44寸TFT屏，但因为HAL库移植不成功，先使用了0.96寸OLED。但后来因为OLED实在太小，只能显示两排字，而且是单色，所以考虑换回TFT屏。有了OLED标准库移植HAL库的经验，TFT屏移植成功，我们绘制了彩色雷达图。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Tiaozhanbei%20(8).jpg" alt="Tiaozhanbei (8)" style="zoom:20%;" />

<p>过程中也尝试了使用U8g2图形库，但由于尚不清楚的原因没有点亮，于是转而使用淘宝店提供的驱动，后面会再次尝试。</p>
<br/>

<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>这次比赛特别感谢冯神、杨神，也感谢热情好玩的学长们。科技没有尽头，探索不会停止。让我们亲手创造更美好的未来！</p>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>电子设计</tag>
        <tag>嵌入式</tag>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>装一台10代i3核显 ITX 小主机</title>
    <url>/2022/03/26/ITX/</url>
    <content><![CDATA[<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(1).jpg" alt="ITX (1)"></p>
<span id="more"></span>

<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本文写于2022&#x2F;3&#x2F;26，约 1200 字，阅读大约需要 3 分钟。</p>
<p>自从前年矿潮我把580卖掉之后，家里的台式机就变成了 <strong>3500X+亮机卡</strong> 的奇怪组合。关键是闲鱼买的亮机卡太老，驱动兼容性不好，性能也不行，B站看视频都偶尔崩溃，于是决定拆开卖了重新配一台。因为现在基本没有游戏需求了，所以想着装一台核显ITX，把主机移到桌面上来，好让放腿脚的空间更大一些。去年底开始策划新电脑，没赶上双十一，就在双十二入手了这套 <strong>10代i3+核显+H510ITX</strong> 。</p>
<br/>

<p><strong>详细配置表：</strong></p>
<p>CPU：<strong>i3 10105</strong>  4核8线程  3.7-4.4GHz</p>
<p>显卡：UHD630</p>
<p>主板：铭瑄 MS-挑战者 H510 ITX</p>
<p>内存：DDR4 16G（8G-3000*2，老电脑拆下来的）</p>
<p>硬盘：英特尔 760P（也是老电脑拆下来的）</p>
<p>机箱：游戏帝国 小灵越（自带200W电源）</p>
<br/>

<p>这台电脑是21年12月购置的，当时这套配置几乎没有悬念，原来的主机二手能卖1500左右，这个价位要买到 新U+ITX板+机箱+电源+散热器，当时12代U还没有上市，10代i3+ITX主板 就在1000左右，加上机箱什么的还能有些富余。如果选 10代i5 要再加300，会有点超支，最后决定还是留给以后升级。而AMD这边则是没有好的选择，带核显的APU 2、3、4代都已经退市，缺货且价格高企。5代APU已经上市的最少都是6核，散片也要上千，不在我们的价格区间。</p>
<br/>

<h3 id="装机过程"><a href="#装机过程" class="headerlink" title="装机过程"></a>装机过程</h3><p>先看看主板和U：</p>
<p><strong>i3 10105</strong>，带核显的版本，比屏蔽核显的F版本贵150左右。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(2).jpg" alt="ITX (2)"></p>
<p>i3发热量很小，所以搭配了一个简单下压式散热 大镰刀S950M 。</p>
<br/>

<p>主板使用了 <strong>铭瑄 MS-挑战者 H510 ITX</strong> 。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(3).jpg" alt="ITX (3)"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(4).jpg" alt="ITX (4)"></p>
<p>这是一个比较廉价的H510 ITX主板，提供2条内存插槽，6个后置USB（2.0<code>*</code>4 + 3.0<code>*</code>2)，一条M.2 。供电可以比较平稳地带动10代i5不带K的版本，但BIOS比较简陋，适合不折腾直接用的用户，也暂不支持装Win11。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(5).jpg" alt="ITX (5)"></p>
<p>另外根据电脑吧评测室大佬 C.Y. 的测试，这个主板如果做好MOS散热也可以带11代i5无K版本，高负载要稳定运行则需要通过软件（XTU、throttlestop）解锁功耗墙、CPU降压。</p>
<p>主板带有 M.2 Wi-Fi 接口，也送了保护罩，但因为H510芯片组 USB2.0 数量限制，用M.2无线网卡 蓝牙会不能用，所以选择了USB无线网卡。</p>
<br/>

<p>装进机箱：</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(6).jpg" alt="ITX (6)"></p>
<p>ITX机箱采用 <strong>游戏帝国 小灵越 机箱</strong> ，其实就是迎广肖邦的仿制品，价格比较低。前置USB2.0、3.0各一个 + 音频接口 + 读卡器。接口这边侧板是镂空网状，可以帮助散热。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(7).jpg" alt="ITX (7)"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(8).jpg" alt="ITX (8)"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(9).jpg" alt="ITX (9)"></p>
<p>机箱自带200W电源，带核显i3完全没有问题。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(10).png" alt="ITX (10)"></p>
<br/>

<p>另外这个主板只有1个前置USB2.0插针，为了接上机箱的2.0 + 读卡器，还要买一个转接板。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(11).jpg" alt="ITX (11)"></p>
<br/>

<p>插上所有线，此时线缆是一团乱麻的状态。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(12).jpg" alt="ITX (12)"></p>
<p>整理好线缆，比较乱也没办法了，机箱小 线缆多，ITX确实不好理线：</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(13).jpg" alt="ITX (13)"></p>
<p>合盖：</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(14).jpg" alt="ITX (14)"></p>
<br/>

<p>最终效果：</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(15).jpg" alt="ITX (15)"></p>
<br/>

<p>另外介绍一下添置的外设：</p>
<p>显示器是 <strong>LG的24GN600</strong> ，24寸 1080P 144Hz IPS。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(16).jpg" alt="ITX (16)"></p>
<p>还有校色报告，最大ΔE&lt;5，色温6500K。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(17).jpg" alt="ITX (17)"></p>
<br/>

<p>键盘是 <strong>京东京造C2</strong> ，有线104，佳达隆红轴，带白色背光。属于长得比较朴素的键盘，价格200多也不贵。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ITX%20(18).jpg" alt="ITX (18)"></p>
<br/>

<p>桌面焕然一新 ^o^&#x2F; ，最大的好处是脚下空间腾出来了，可以随意放腿（￣︶￣）</p>
<p>装好之后的ITX看上去还是很舒服的，小巧不占空间，也显得精致。不玩游戏的话，性能也够用了。这次装机就记录到这里了，感谢观看~</p>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>电脑</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266单片机DIY数码管小时钟</title>
    <url>/2022/02/17/MCU-Clock/</url>
    <content><![CDATA[<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(6).jpg" alt="MCU-Clock (6)"  />

<span id="more"></span>

<br/>

<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>一直想做一个DIY小时钟，趁放假时间了解了一下单片机，本想用 ESP8266开发板+1.44寸TFT液晶屏+DHT22温湿度模块 做一个 时间显示+天气预报+当前温湿度显示 小电视，不过需要较多的时间，又临近开学，所以改成了 <strong>ESP8266开发板+4位LED数码管</strong> 的简单时钟，原先的想法就放到暑假来实现。</p>
<br/>

<h3 id="部件介绍"><a href="#部件介绍" class="headerlink" title="部件介绍"></a>部件介绍</h3><ul>
<li><strong>ESP8266开发板</strong></li>
</ul>
<p>廉价开发板，单板10多块。自带WI-FI，不过只支持2.4G频段。接口是Micro-USB。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(1).jpg" alt="MCU-Clock (1)" style="zoom: 50%;" />

<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(2).jpg" alt="MCU-Clock (2)" style="zoom:50%;" />



<ul>
<li><strong>TM1637 4位LED数码管</strong></li>
</ul>
<p>带时钟点的4位LED数码管，3.3v - 5v 供电均可。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(3).jpg" alt="MCU-Clock (3)" style="zoom:50%;" />

<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(4).jpg" alt="MCU-Clock (4)" style="zoom:50%;" />



<ul>
<li><strong>整体效果</strong></li>
</ul>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(5).jpg" alt="MCU-Clock (5)"  />

<p>使用附带的4根15cm杜邦线连接，稍微有点长，有条件可以用更短的。</p>
<p>店家送的30cm Micro-USB数据线也不太好用，线材偏硬，不好弯折，会把部件往原来弯折的方向带。推荐用比较细的Micro-USB手机数据线。</p>
<br/>

<h3 id="软件实现"><a href="#软件实现" class="headerlink" title="软件实现"></a>软件实现</h3><p>从阿里云NTP服务器获取时间，每秒更新一次。</p>
<p>此处将整体代码分块解释，按顺序连接就是完整代码。</p>
<ul>
<li>头文件及初始设置部分</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;NTPClient.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WiFiUdp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;TM1637.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* ssid     = <span class="string">&quot;ssid&quot;</span>; <span class="comment">//WI-FI名称</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* password = <span class="string">&quot;password&quot;</span>; <span class="comment">//WI-FI密码</span></span><br><span class="line"></span><br><span class="line">WiFiUDP ntpUDP;</span><br><span class="line">NTPClient <span class="title function_">timeClient</span><span class="params">(ntpUDP, <span class="string">&quot;ntp5.aliyun.com&quot;</span>, <span class="number">8</span>*<span class="number">3600</span>)</span>; <span class="comment">//使用阿里云的NTP服务器</span></span><br><span class="line"><span class="comment">//NTP服务设置： 第一个数为时区偏移，单位秒。第二个数（未使用）为更新间隔，单位为毫秒。</span></span><br></pre></td></tr></table></figure>



<ul>
<li>数码管设置部分</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> CLK D3 <span class="comment">//数码管CLK接D3口（可变）</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIO D2 <span class="comment">//数码管DIO接D2口（可变）</span></span></span><br><span class="line">TM1637 <span class="title function_">tm1637</span><span class="params">(CLK,DIO)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> ClockPoint = <span class="number">1</span>; <span class="comment">//时钟点设置，1为亮，0为灭</span></span><br><span class="line"><span class="type">int8_t</span> TimeDisp[] = &#123;<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>&#125;; <span class="comment">//4位显示的内容，先初始化为0</span></span><br></pre></td></tr></table></figure>



<ul>
<li>主程序（单次执行）部分</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  delay(<span class="number">500</span>); </span><br><span class="line">  WiFi.begin(ssid, password); <span class="comment">//连接WI-FI</span></span><br><span class="line">  <span class="keyword">while</span>(WiFi.status() != WL_CONNECTED)&#123;</span><br><span class="line">    delay(<span class="number">500</span>);</span><br><span class="line">  &#125; <span class="comment">//若未连上则等待</span></span><br><span class="line">  </span><br><span class="line">  timeClient.begin();</span><br><span class="line">  tm1637.init(); <span class="comment">//数码管初始化</span></span><br><span class="line">  tm1637.<span class="built_in">set</span>(<span class="number">2</span>); <span class="comment">//数码管显示亮度，0-7 BRIGHT_TYPICAL = 2,BRIGHT_DARKEST = 0,BRIGHTEST = 7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>主程序（重复执行）部分</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(ClockPoint)&#123;</span><br><span class="line">    tm1637.point(POINT_ON);</span><br><span class="line">    ClockPoint = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    tm1637.point(POINT_OFF); </span><br><span class="line">    ClockPoint = <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="comment">//时钟点 亮1秒灭1秒</span></span><br><span class="line">  </span><br><span class="line">  timeClient.update();</span><br><span class="line">  <span class="type">int</span> hour = timeClient.getHours();</span><br><span class="line">  <span class="type">int</span> minute = timeClient.getMinutes(); <span class="comment">//获取时间</span></span><br><span class="line">    </span><br><span class="line">  TimeDisp[<span class="number">0</span>] = hour / <span class="number">10</span>;</span><br><span class="line">  TimeDisp[<span class="number">1</span>] = hour % <span class="number">10</span>;</span><br><span class="line">  TimeDisp[<span class="number">2</span>] = minute / <span class="number">10</span>;</span><br><span class="line">  TimeDisp[<span class="number">3</span>] = minute % <span class="number">10</span>; <span class="comment">//分解成4位</span></span><br><span class="line">    </span><br><span class="line">  tm1637.display(<span class="number">0</span>,TimeDisp[<span class="number">0</span>]);</span><br><span class="line">  tm1637.display(<span class="number">1</span>,TimeDisp[<span class="number">1</span>]);</span><br><span class="line">  tm1637.display(<span class="number">2</span>,TimeDisp[<span class="number">2</span>]);</span><br><span class="line">  tm1637.display(<span class="number">3</span>,TimeDisp[<span class="number">3</span>]); <span class="comment">//显示上屏</span></span><br><span class="line">    </span><br><span class="line">  delay(<span class="number">1000</span>); <span class="comment">//时间每秒更新一次</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br/>

<h3 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h3><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/MCU-Clock%20(6).jpg" alt="MCU-Clock (6)"  />



<p>作为寒假作业的一部分，又完成作业了 ( •̀ ω •́ )✧</p>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>嵌入式</tag>
        <tag>ESP8266</tag>
      </tags>
  </entry>
  <entry>
    <title>Redmi K30 至尊纪念版 简单开箱体验</title>
    <url>/2020/08/15/K30%20Ultra/</url>
    <content><![CDATA[<p>PS：本文也发布在知乎，若博客图片加载缓慢，可<a href="https://zhuanlan.zhihu.com/p/184636957">点击此处</a>前往知乎查看。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(1).jpg" alt="K30 Ultra (1)"></p>
<span id="more"></span>

<p>8月11日发布会结束之后，依照小米耍猴惯例，立马京东定金下单了 K30 Ultra（至尊纪念版） 8+128 薄荷绿版本。</p>
<p>14号10点正式开售后，不出所料10万台秒光。所幸提前预定，14号凌晨补完尾款当天到手。</p>
<p>本文仅限于开箱+体验，没有什么干货。全文约600字，阅读大致需要2分钟。</p>
<p>文中带机型水印的图片由 Redmi K30 至尊纪念版 拍摄。</p>
<p>上图！</p>
<br/>

<h3 id="开箱"><a href="#开箱" class="headerlink" title="开箱"></a>开箱</h3><p>**P1：**2010-2020：10TH ANNIVERSARY（设计精致的包装盒，文字在特定角度光照下会呈现不同彩色，自然光下为银色）</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(2).jpg" alt="K30 Ultra (2)"></p>
<br/>

<p>**P2：**Designed by Redmi（包装盒背面）</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(3).jpg" alt="K30 Ultra (3)"></p>
<br/>

<p>**P3：**永远相信美好的事情即将发生（一个纸套，装有卡针 + Type-C to 3.5mm 转接线 + 说明书 + 手机壳）</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(4).jpg" alt="K30 Ultra (4)"></p>
<br/>

<p>**P4：**薄荷绿配色，光线原因照片颜色偏深，真实颜色请参考官方图。此外整机带壳重量为241g，偏重。(手机壳重28g，不带壳213g）</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(5).jpg" alt="K30 Ultra (5)"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(6).jpg" alt="K30 Ultra (6)"></p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(7).jpg" alt="K30 Ultra (7)"></p>
<br/>

<p>**P5：*<em>电源适配器参数，最高 11V</em>3A&#x3D;33W（由本机微距镜头拍摄）</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(8).jpg" alt="K30 Ultra (8)" style="zoom:25%;" />

<br/>

<p>**P6：**全家福</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(9).jpg" alt="K30 Ultra (9)"></p>
<br/>

<p>PS：送的耳机据称价值129，JD第三方卖95，应该确实值这个价。不过是3.5mm接口，还得用上手机附带的转接线。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(10).jpg" alt="K30 Ultra (10)"></p>
<br/>

<h3 id="简单体验"><a href="#简单体验" class="headerlink" title="简单体验"></a>简单体验</h3><p>对于和K30 Pro的对比，个人认为很贴切的评价：缩水的内容（SoC，闪存，IMX686 - IMX682，电池减少200mA等）都还能接受，但是增强的内容（120Hz+双扬声器）感知很强。</p>
<p>这个价位有120Hz（高帧率下频繁切换应用确实偶有掉帧现象，不清楚是否为联发科SoC优化问题）感知强烈，以及NFC、33W快充和线性马达，MIUI加持下1999（6+128）依然是非常香的。</p>
<p>PS：正常使用下系统固件占用12GB空间。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(11).jpg" alt="K30 Ultra (11)" style="zoom: 33%;" />

<br/>

<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(12).jpg" alt="K30 Ultra (12)" style="zoom: 33%;" />

<br/>

<p>象征性跑了安兔兔（不知为何软件连网有问题，测试条件为 连接电源+不装手机壳+空调26°C ）和Andro Bench。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(13).png" alt="K30 Ultra (13)" style="zoom: 33%;" />

<br/>

<p>闪存方面暂不清楚是UFS3.0因为天玑SoC支持不完善而降速，还是确实降级到了UFS2.1，不过内存应该是砍到了LPDDR4X。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(14).jpg" alt="K30 Ultra (14)" style="zoom: 33%;" />

<br/>

<p>最后附送一张充电特效：</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(15).jpg" alt="K30 Ultra (15)" style="zoom: 33%;" />

<br/>

<p>图放完了，话也说完了，就像开头说的，没有什么干货，只是简单开箱。</p>
<p>那么就到这里，欢迎各位路过的&#x2F;观望的&#x2F;正在抢的&#x2F;已经到手的朋友<a href="https://zhuanlan.zhihu.com/p/184636957">知乎</a>留言交流，也希望想要的朋友能尽早抢到咯。</p>
<hr>
<h3 id="2022-08-13-后记"><a href="#2022-08-13-后记" class="headerlink" title="2022&#x2F;08&#x2F;13 - 后记"></a>2022&#x2F;08&#x2F;13 - 后记</h3><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/K30%20Ultra%20(16).jpg" alt="K30 Ultra (16)" style="zoom: 50%;" />

<p><strong>“永远相信美好的事情即将发生”</strong>，这是我在用我的第一台手机 红米Note 1S 时，铺天盖地的宣传语。小米又过生日了，又长了两岁，这次发布的是Redmi K50 Ultra。回顾小米的这两年，可谓蹉跎。不仅是这篇文章所述的这款手机差评不断，被吐槽发热、续航差、厚重，两年前小米提出的问题，<strong>“小米从哪里来？将往哪里去？”</strong>，恐怕依然没有得到回答。</p>
<p>小米以性价比起家，1999的狂欢让我们铭记。然而近两年小米冲击高端不成，被火龙、BugUI背刺，还发生了烧WI-FI丑闻。小米似乎陷入了性价比、堆料的怪圈，没法摆脱它最初的印记。</p>
<p>时过境迁，这款手机所使用的升降前摄设计，也随历史的潮流被淘汰，被打孔、屏下替代，Redmi K系列 也凭借 K50 找回了它曾经的辉煌。虽然我如今已不是小米的目标用户，但小米、红米的存在一定让更多的人用上了性能更好、续航更长、屏幕更好的手机。如今的小米，在中端性价比继续领先，在高端联名徕卡，尝试打造差异化卖点。我无法预测小米是否能为自己的品牌 塑造起能担负近万元售价的品牌价值、质感，但我期待在华为被制裁的今天，能有国产科技厂商站出来，引领未来科技产品发展的道路。</p>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>安卓</tag>
      </tags>
  </entry>
  <entry>
    <title>Happy New Year!</title>
    <url>/2020/01/01/Happy%20new%20year/</url>
    <content><![CDATA[<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/Hello20S_tiny.png" alt="Hello20S_tiny"></p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
  </entry>
  <entry>
    <title>ColorOS7 For Realme X 尝鲜体验感受</title>
    <url>/2019/12/27/ColorOS7/</url>
    <content><![CDATA[<p>PS：本文也发布在知乎，若博客图片加载缓慢，可<a href="https://zhuanlan.zhihu.com/p/99846007">点击此处</a>前往知乎查看。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(0).png" alt="ColorOS7-体验 (0)"></p>
<p>Realme官方于2019年12月22日开启了Realme X 的 ColorOS7 3000人尝鲜报名，由于OPPO机型尝鲜时间更早（11月），知乎上已经有少量体验报告出现，那这里就主要从个人体验方面聊聊吧。</p>
<span id="more"></span>

<p>不管怎么说，这次大版本更新，感觉到的大变化就只有 <strong>UI和动画</strong> 。不过，确实改了很多，而且有些竟然还不错。上图：（注意看OLD和NEW标识）</p>
<ul>
<li><strong>桌面图标</strong></li>
</ul>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(1).jpg" alt="ColorOS7-体验 (1)"></p>
<p>​	嗯……图标什么的还是说一下吧。</p>
<p>​	这次添加了很有意思的 <strong>自定义图标</strong> 功能，可以设置四种不同的图标形状。</p>
<p>​	以及 “<strong>Art+第三方图标</strong>” ，设计水平<em>可</em> ，姑且给个好评吧~</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(2).jpg" alt="ColorOS7-体验 (2)" style="zoom: 33%;" />



<ul>
<li><strong>动画</strong></li>
</ul>
<p>然后是 <strong>动画</strong>  。</p>
<p>这次号称的 <em>非线性动画</em> ，实际体验下来，可以说不尽人意了……</p>
<p>几个静态和准静态动画（比如说指纹）改的还不错，切换桌面时底部的小圆点会跟着动，好评。（注意看下图白框内）</p>
<p>充电动画改了几百次了，现在再改，无感。</p>
<p>最近任务切换动画有Bug，会闪。以及，掉帧……</p>
<p>所以说，动画什么的，还是看看就好……</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(3).jpg" alt="ColorOS7-体验 (3)"></p>
<ul>
<li><strong>控制中心 &amp; Breeno 速览</strong></li>
</ul>
<p>Emmm……你没看错，<strong>控制中心</strong> 它又双叒叕改版了( ╯□╰ ) 。最开始是方形图标，后来改成圆形，现在又改一次，还是圆形，但是颜色统一了。</p>
<p>怎么说呢，感觉半斤八两吧……之前的毛玻璃效果个人感觉还挺不错的。</p>
<p>然而交互有点倒退，新设置中心不展开只能显示一行图标（之前两行，而且新的不展开时一行显示六个，显得很拥挤），展开也只能显示两行（之前四行），剩余的需要手动划出，不得不说没有那么方便了。</p>
<p>不过快捷功能的图标换了，真是大快人心~</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(4).jpg" alt="ColorOS7-体验 (4)"></p>
<ul>
<li><strong>设置</strong></li>
</ul>
<p>先说UI，C7对于 <strong>设置界面的图标</strong> 进行了完全重置，设计水平依然<em>可</em> 。</p>
<p>然后就是 <strong>Realme实验室</strong> 没了，因为里面唯一的功能暗色模式转正了。以及转正后暗色模式有了定时功能。（之前试用阶段没有，也不知道怎么想的）</p>
<p>之前说好的 <strong>电池使用曲线</strong> 依然没有。诶诶，要讲信用欸……</p>
<p><strong>息屏时钟</strong> 样式可以修改了，好评。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(5).jpg" alt="ColorOS7-体验 (5)"></p>
<ul>
<li><strong>相机与相册</strong></li>
</ul>
<p><strong>相机的UI</strong> 做了更改，切换成48MP的点击次数在之前三次变两次的基础上，进一步减少为一次。</p>
<p>相册的 <strong>图集</strong> 界面现在一行显示三个（原来两个），终于不会放不下了……</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(6).jpg" alt="ColorOS7-体验 (6)" style="zoom: 33%;" />



<ul>
<li><strong>优化&amp;续航</strong></li>
</ul>
<p>整体来说，优化更好了，不过看反馈王者荣耀掉帧的问题依然没有解决。</p>
<p>内存占用上，同样是4G内存，常驻微信、QQ、华为运动健康三个App，C6剩余内存1G左右，C7现在有1.3G左右。</p>
<p>续航的话，其实C6最近几个版本续航一直捉急，这次好像也没什么改善。</p>
<ul>
<li><strong>杂项</strong></li>
</ul>
<p>首先，更新了 <strong>安卓10</strong> 。</p>
<img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(7).jpg" alt="ColorOS7-体验 (7)" style="zoom:25%;" />

<p>然后，根据更新日志，<strong>Breeno</strong> 更新了，<strong>侧边栏</strong> 大改，不过我都不怎么用。（这两个是放在最前面的，可能重心都放在这里了，导致其他功能更新比较少……然而这两个功能个人感觉其实并不是很实用，尤其是 Breeno ……）</p>
<p>哦对了，<strong>三指截屏</strong> 交互改了，更好用了一点。</p>
<p>可以和 OPPO、vivo、小米手机互传，暂时用不到。</p>
<p>以及一大堆其他的，大概没什么用……</p>
<ul>
<li><strong>总结</strong></li>
</ul>
<p>怎么说呢，这次 ColorOS 7，没有什么惊艳的功能出现，感觉就是小打小闹的更新。又折腾了一遍UI和设计，改一改动画，补了一点刚需功能。而且有些还是以前就翻来覆去改了好几次（比如控制中心，充电动画），现在又拿出来改。</p>
<p>只改表面（或者说界面），功能更新很少，这样的更新又有什么意义呐，果然 Realme 的系统还是差点火候……</p>
<p>就这样吧，欢迎到<a href="https://zhuanlan.zhihu.com/p/99846007">知乎</a>留言交流。</p>
<ul>
<li><strong>2020&#x2F;04&#x2F;09补充：</strong></li>
</ul>
<p>最近一直没有时间做补充，正式版已经更新一段时间了，提供了两套主题（只有图标不同），<strong>默认主题</strong>为下图，上文中主题变为备选“<strong>简约至美</strong>”主题，可在主题商店中切换。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/ColorOS7-%E4%BD%93%E9%AA%8C%20(8).jpg" alt="ColorOS7-体验 (8)"></p>
<p>另外，现在的系统版本标识已经变为“<strong>realme ui 1.0</strong>”，不过点进“版本信息”依然可以看到是基于ColorOS 7。</p>
]]></content>
      <categories>
        <category>科技</category>
      </categories>
      <tags>
        <tag>安卓</tag>
      </tags>
  </entry>
  <entry>
    <title>NOIP2018 参赛纪念</title>
    <url>/2019/04/20/NOIP2018/</url>
    <content><![CDATA[<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/NOIP2018%20(1).jpg" alt="NOIP2018 (1)"></p>
<p>↑ 图1：2018年11月，到成电清水河校区参加 NOIP2018 复试。图为西二门 龙湖·时代天街 和还在空载试运行的 有轨电车蓉2号线。当时天街二期仍在建设。</p>
<span id="more"></span>

<hr>
<p>当我再来回顾这次旅程的时候，已经是四年后了。当时我学信息竞赛不过半年，来参赛只是体验，自然也就说不上得奖。只是参赛归来不久，我就没有继续学习了。文化课的压力固然是一方面，然而以我在信竞上花费的时间和精力，以及尚不足够的数理能力，现在看来也轮不到得奖。信息竞赛作为我的一项兴趣，影响着我对学校、专业的选择，也直接或间接地促成了我对各种技术的探索。</p>
<p>从小学到初中、高中，从机器人到程序设计，竞赛考察的方向从动手能力转向分析思考、知识储备。我得到了很多愉快的回忆、也获得了方方面面的思考和启发。进入大学，由于我的专业是信息与通信，所以我也不打算再深入学习编程。四年后再来成电，还能看到记忆中熟悉的事物。想来到这里的初心不变，信息竞赛一程作为道路上的插曲，更坚定了我的想法。新的旅程开始了，有新的探索、新的挑战，也有更多的故事等待着我们。再走进成电校门，在这样一个熟悉又陌生的地方，迎接未来崭新的道路。</p>
<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/NOIP2018%20(4).jpg" alt="NOIP2018 (4)"></p>
<p>↑ 图2：清水河校区，西湖上的拱桥。</p>
</br>

<p><img src="https://xuan-blog-pics-1308720530.cos.ap-chengdu.myqcloud.com/blog-img/NOIP2018%20(3).jpg" alt="NOIP2018 (3)"></p>
<p>↑ 图3：清水河校区，西二门水杉路。</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>OI</tag>
      </tags>
  </entry>
</search>
